#!/usr/bin/env bash

echo "DOES NOT WORK DONT KNOW WHY"

{
cat <<EOF
  local awful = require "awful"
  local naughty = require "naughty"
  local wibox = require "wibox"

  local chosen_image_path = "$(cat /dev/stdin | tr -d '\n')"

  naughty.notification {
    title = chosen_image_path
  }

  awful.wallpaper {
    screen = awful.screen.focused(),
    widget = {
      image = chosen_image_path,
      resize = true,
      widget = wibox.widget.imagebox,
    },
    valign = "center",
    halign = "center",
    widget = wibox.container.place,
  }
EOF
} | awesome-client

